# code-review

代码审查分发器技能，根据参数路由到不同的代码审查模式。

## 功能描述

这是一个分发器技能，根据用户传入的参数，将代码审查请求路由到不同的审查模式。每种模式有不同的审查重点和输出风格。

## 目录结构

```
code-review/
├── SKILL.md               # 分发器配置（入口点）
├── SKILL-MAIN.md          # 默认审查模式 (Java)
└── SKILL-KOL.md           # KOL 专家审查模式
```

## 审查模式

### main 模式（默认）

**适用场景:** 常规代码审查，关注代码质量

**审查重点:**
- 功能正确性
- 安全问题（SQL 注入、XSS 等）
- 代码规范和最佳实践
- 潜在的 bug 和边界条件
- 异常处理

### kol 模式

**适用场景:** 需要专家视角的深度审查

**审查重点:**
- 架构设计合理性
- 代码可维护性
- 性能优化建议
- 设计模式应用
- 长期演进考虑

## 使用方法

### 基本用法

```
/code-review               # 使用默认模式（main）审查待提交代码
```

### 指定模式

```
/code-review main          # 使用 main 模式审查
/code-review kol           # 使用 KOL 专家模式审查
```

### 审查指定提交

```
/code-review abc123        # 审查指定的 git commit
/code-review main abc123   # 使用 main 模式审查指定提交
/code-review kol abc123    # 使用 kol 模式审查指定提交
```

### 审查指定文件

```
/code-review src/main.js   # 审查指定文件的改动
```

## 输出格式

### main 模式输出

- 问题分类（P0/P1/P2）
- 具体问题描述
- 修复建议代码
- 相关文件位置

### kol 模式输出

- 整体架构评价
- 设计问题分析
- 重构建议
- 长期维护建议

## 分发逻辑

技能根据第一个参数判断审查模式：

1. 无参数 → 使用 main 模式
2. `main` → 使用 main 模式
3. `kol` → 使用 kol 模式
4. 其他值（如 commit hash）→ 使用 main 模式，并审查指定提交

## 扩展新模式

要添加新的审查模式：

1. 创建 `SKILL-<MODE>.md` 文件
2. 在 `SKILL.md` 中添加对应的分发逻辑
3. 定义该模式的审查重点和输出格式
